{% extends 'base.jinja' %}

{% block head %}
  <script src="/static/amcharts/amcharts.js" type="text/javascript"></script>
  <script src="/static/amcharts/serial.js" type="text/javascript"></script>
{% endblock head %}

{% block base %}
  <div class="container">
    <div id="linechart" style="width: 100%; height: 150px;"></div>
    <div id="datachart" style="width: 100%; height: 400px;"></div>
    
    <table class="table table-striped">
      <thead>
        <tr>
          <th>업데이트 일자</th>
          <th>악성코드 형태</th>
          <th>패턴개수</th>
        </tr>
      </thead>
      <tbody>
        {% for entry in data %}
          <tr>
            <th>{{ entry[0] }}</th>
            <td>{{ entry[1] }}</td>
            <td>{{ '{:,}'.format(entry[2]) }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock base %}

{% block baseJS %}
  <script>
    var dataChart;
    var lineChart;
    
    var categories = {{ categories }};
    var chartData = {{ chartdata }};
  </script>
  <script src="/static/js/mus-stats-graph.js"></script>
{% endblock baseJS %}
