{% extends 'admin/product/index.jinja' %}

{% block container %}
  <div>
    <ul class="nav nav-tabs" role="tablist">
      <li class="active" role="presentation"><a href="#product" aria-controls="product" role="tab" data-toggle="tab">제품 정보</a></li>
      <li role="presentation"><a href="#server" aria-controls="server" role="tab" data-toggle="tab">서버 정보</a></li>
      <li role="presentation"><a href="#manifest" aria-controls="manifest" role="tab" data-toggle="tab">명세 목록</a></li>
      <li role="presentation"><a href="#attr" aria-controls="attr" role="tab" data-toggle="tab">제품 속성</a></li>
    </ul>
    <div class="tab-content">
      <div id="product" class="tab-pane active" role="tabpanel">
        <div class="list-group" style="margin-top:10px;">
          <div class="list-group-item">
            <h4 class="list-group-item-heading">제품명</h4>
            <p class="list-group-item-text">{{ product.name }}</p>
          </div>
          <div class="list-group-item">
            <h4 class="list-group-item-heading">우선순위</h4>
            <p class="list-group-item-text">{{ '{:,}'.format(product.priority) }}</p>
          </div>
        </div>
      </div>
      <div id="server" class="tab-pane" role="tabpanel">
        <div class="list-group" style="margin-top:10px;">
          <div class="list-group-item">
            <h4 class="list-group-item-heading">서버명</h4>
            <p class="list-group-item-text">{{ product.r_server.name }}</p>
          </div>
          <div class="list-group-item">
            <h4 class="list-group-item-heading">WWW</h4>
            <p class="list-group-item-text">{{ product.r_server.www }}</p>
          </div>
          <div class="list-group-item">
            <h4 class="list-group-item-heading">FTP</h4>
            <p class="list-group-item-text">{{ product.r_server.ftp }}</p>
          </div>
        </div>
      </div>
      <div id="manifest" class="tab-pane" role="tabpanel">
        <div class="list-group" style="margin-top:10px;">
          {% for manifest in product.r_manifest %}
            <div class="list-group-item">
              <h4 class="list-group-item-heading" style="margin-bottom: 10px;"><a href="{{ url_for('admin.manifest.view', id=manifest.id) }}">{{ product.name }} - {{ manifest.name }}</a></h4>
              <div class="list-group">
                {% for attr in manifest.r_attribute %}
                  <div class="list-group-item">
                    <h4 class="list-group-item-heading">{{ attr.key }}</h4>
                    <p class="list-group-item-text">{{ attr.val }}</p>
                  </div>                    
                {% endfor %}
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
      <div id="attr" class="tab-pane" role="tabpanel">
        <div class="list-group" style="margin-top:10px">
          {% for attr in product.r_attribute %}
            <div class="list-group-item">
              <h4 class="list-group-item-heading">{{ attr.key }}</h4>
              <p class="list-group-item-text">{{ attr.val }}</p>
            </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
{% endblock container %}
