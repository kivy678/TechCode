{% extends 'admin/update/index.jinja' %}

{% block container %}
  <form class="form-horizontal" action="{{ url_for('admin.update.add') }}" method="POST" us-target="update-form">
    <div class="form-group">
      <label class="label-control col-sm-4 text-right" for="total">Total</label>
      <div class="col-sm-4">
        <span id="total"></span>
      </div>
    </div>

    <div class="form-group">
      <label class="label-control col-sm-3 text-right">진단명</label>
      <label class="label-control col-sm-1 text-center">예약</label>
      <label class="label-control col-sm-1 text-center">가능</label>
      <label class="label-control col-sm-1 text-center">최대</label>
      <label class="label-control col-sm-1 text-center">등록</label>
      <label class="label-control col-sm-3 text-center">추가</label>
    </div>
    {% for entry in entries %}
      <div class="form-group">
        <label class="label-control col-sm-3 text-right" for="field-{{ entry.id }}">{{ entry.name }}</label>
        <span class="col-sm-1 text-center" id="field-high-{{ entry.id }}">{{ entry.high }}</span>
        <span class="col-sm-1 text-center">{{ entry.normal }}</span>
        <span class="col-sm-1 text-center">{{ entry.normal + entry.high }}</span>
        <span id="field-summary-{{ entry.id }}" us-target="field-summary" us-data-type="{{ entry.type }}" us-data-name="{{ entry.tname }}" class="col-sm-1 text-center">{{ entry.high }}</span>
        <div class="input-group col-sm-3">
          <input class="form-control" id="field-{{ entry.id }}" name="{{ entry.id }}" type="number" value="0" min="0" max="{{ entry.normal }}"/>
          <div class="input-group-btn">
            <button type="button" class="btn btn-danger"  us-target="add-field" us-field="field-{{ entry.id }}" us-data="-10">-10</button>
            <button type="button" class="btn btn-info"    us-target="add-field" us-field="field-{{ entry.id }}" us-data="10">+10</button>
            <button type="button" class="btn btn-warning" us-target="add-field" us-field="field-{{ entry.id }}" us-data="{{ entry.normal }}">MAX</button>
          </div>
        </div>
      </div>
    {% endfor %}

    <div class="form-group">
      <div class="col-sm-offset-2">
        <button class="btn btn-primary" type="submit">전송</button>
      </div>
    </div>
  </form>
{% endblock container %}

{% block baseJS %}
  <script src="/static/js/admin.update.add.js"></script>
  <script src="/static/js/d3.min.js"></script>
{% endblock baseJS %}
